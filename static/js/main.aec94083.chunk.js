(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,a){},19:function(e,t,a){e.exports=a.p+"static/media/header-logo.400f7dde.svg"},22:function(e,t,a){e.exports=a.p+"static/media/delete-button.4831282e.svg"},23:function(e,t){e.exports="data:image/png;base64,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"},24:function(e,t){e.exports="data:image/png;base64,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"},29:function(e,t,a){e.exports=a(42)},42:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(18),r=a.n(c),i=a(7),l=(a(15),a(27)),u=a(9),s=a(1),m=a(2),p=a(19),d=a.n(p);var f=function(e){var t=e.email,a=e.onSignOut;return o.a.createElement("header",{className:"header"},o.a.createElement("img",{className:"header__logo",src:d.a,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"}),o.a.createElement(m.b,{path:"/sign-in"},o.a.createElement(i.b,{to:"sign-up",className:"header__auth-link"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),o.a.createElement(m.b,{path:"/sign-up"},o.a.createElement(i.b,{to:"sign-in",className:"header__auth-link"},"\u0412\u043e\u0439\u0442\u0438")),o.a.createElement(m.b,{exact:!0,path:"/"},o.a.createElement("div",{className:"header__auth-container"},o.a.createElement("p",{className:"header__e-mail"},t),o.a.createElement("button",{onClick:function(){a()},className:"header__auth-link header__button"},"\u0412\u044b\u0439\u0442\u0438"))))},h=o.a.createContext(),b=a(22),E=a.n(b);var _=function(e){var t=e.card,a=e.onCardClick,n=e.onCardLike,c=e.onCardDelete,r=o.a.useContext(h),i=t.owner._id===r._id,l="elements__element-delete ".concat(i?"elements__element-delete_active":""),u=t.likes.some((function(e){return e._id===r._id})),s="elements__element-like ".concat(u?"elements__element-like_active":"");return o.a.createElement("div",{className:"elements__element"},o.a.createElement("div",{className:"elements__element-image"},o.a.createElement("img",{className:"elements__element-photo",src:"".concat(t.link),alt:t.name,onClick:function(){a(t)}}),o.a.createElement("button",{className:l,onClick:function(){c(t)},type:"button"},o.a.createElement("img",{src:E.a,alt:"Delete"}))),o.a.createElement("div",{className:"elements__element-place"},o.a.createElement("h3",{className:"elements__element-title"},t.name),o.a.createElement("div",{className:"elements__element-like-container"},o.a.createElement("button",{className:s,onClick:function(){n(t)},type:"button","aria-label":"Like"}),o.a.createElement("span",{className:"elements__element-like-count"},t.likes.length))))};var g=function(e){var t=e.onEditProfile,a=e.onAddPlace,n=e.onEditAvatar,c=e.onCardClick,r=e.cards,i=e.onCardLike,l=e.onCardDelete,u=o.a.useContext(h);return o.a.createElement("main",{className:"content"},o.a.createElement("section",{className:"profile"},o.a.createElement("div",{className:"profile__info-container"},o.a.createElement("div",{className:"profile__avatar-container"},o.a.createElement("img",{className:"profile__avatar",src:u.avatar,alt:"\u0410\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),o.a.createElement("div",{className:"profile__avatar-overlay"},o.a.createElement("button",{className:"profile__avatar-button",type:"button","aria-label":"Edit",onClick:n}))),o.a.createElement("div",{className:"profile__info"},o.a.createElement("h1",{className:"profile__info-title"},u.name),o.a.createElement("button",{className:"profile__edit-button",type:"button","aria-label":"Edit",onClick:t}),o.a.createElement("p",{className:"profile__info-subtitle"},u.about))),o.a.createElement("button",{className:"profile__add-button",type:"button","aria-label":"Add",onClick:a})),o.a.createElement("section",{className:"elements"},r.map((function(e){return o.a.createElement(_,{key:e._id,card:e,onCardClick:c,onCardLike:i,onCardDelete:l})}))))};var v=function(){return o.a.createElement("footer",{className:"footer"},o.a.createElement("p",{className:"footer__copyright"},"\xa92022.\xa0Mesto Russia"))};var N=function(e){var t=e.title,a=e.name,n=e.buttonSubmitText,c=e.children,r=e.isOpen,i=e.onClose,l=e.onSubmit;return o.a.createElement("section",{className:"popup ".concat(r?"popup_opened":"")},o.a.createElement("div",{className:"popup__container popup__container_".concat(a)},o.a.createElement("h3",{className:"popup__title"},t),o.a.createElement("form",{className:"popup__form",name:"popup__form_".concat(a),onSubmit:l},c,o.a.createElement("button",{className:"popup__save-button popup__save-button_".concat(a),type:"submit"},n)),o.a.createElement("button",{className:"popup__close-button",type:"button","aria-label":"Close",onClick:i})))};var C=function(e){var t=e.isOpen,a=e.onClose,n=e.onUpdateUser,c=o.a.useState("name"),r=Object(s.a)(c,2),i=r[0],l=r[1],u=o.a.useState("about"),m=Object(s.a)(u,2),p=m[0],d=m[1],f=o.a.useContext(h);return o.a.useEffect((function(){l(f.name),d(f.about)}),[f,t]),o.a.createElement(N,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"edit",buttonSubmitText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),n({name:i,about:p})}},o.a.createElement("div",{className:"popup__form-field"},o.a.createElement("input",{className:"popup__input popup__input_name",id:"name",type:"text",name:"name",value:i||"",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",required:!0,minLength:"2",maxLength:"40",onChange:function(e){l(e.target.value)}}),o.a.createElement("span",{className:"popup__input-error name-error"})),o.a.createElement("div",{className:"popup__form-field"},o.a.createElement("input",{className:"popup__input popup__input_about",id:"about",type:"text",name:"about",value:p||"",placeholder:"\u0412\u0430\u0448 \u0440\u043e\u0434 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",required:!0,minLength:"2",maxLength:"200",onChange:function(e){d(e.target.value)}}),o.a.createElement("span",{className:"popup__input-error about-error"})))};var A=function(e){var t=e.isOpen,a=e.onClose,n=e.onUpdateAvatar,c=o.a.useRef();return o.a.useEffect((function(){c.current.value=""}),[t]),o.a.createElement(N,{title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"avatar",buttonSubmitText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),n({avatar:c.current.value})}},o.a.createElement("div",{className:"popup__form-field"},o.a.createElement("input",{className:"popup__input popup__input_avatar",id:"avatar",type:"url",name:"avatar",ref:c,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440",required:!0}),o.a.createElement("span",{className:"popup__input-error avatar-error"})))};var j=function(e){var t=e.isOpen,a=e.onClose,n=e.onAddPlace,c=o.a.useState(""),r=Object(s.a)(c,2),i=r[0],l=r[1],u=o.a.useState(""),m=Object(s.a)(u,2),p=m[0],d=m[1];return o.a.useEffect((function(){l(""),d("")}),[t]),o.a.createElement(N,{title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"add",buttonSubmitText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),n({name:i,link:p})}},o.a.createElement("div",{className:"popup__form-field"},o.a.createElement("input",{className:"popup__input popup__input_place",id:"place",type:"text",name:"place",value:i,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",required:!0,minLength:"2",maxLength:"30",onChange:function(e){l(e.target.value)}}),o.a.createElement("span",{className:"popup__input-error place-error"})),o.a.createElement("div",{className:"popup__form-field"},o.a.createElement("input",{className:"popup__input popup__input_image",id:"image",type:"url",name:"link",value:p,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0,onChange:function(e){d(e.target.value)}}),o.a.createElement("span",{className:"popup__input-error image-error"})))};var O=function(e){var t=e.card,a=e.onClose;return o.a.createElement("div",{className:"popup popup_image ".concat(t.link&&"popup_opened")},o.a.createElement("div",{className:"popup__photo-container"},o.a.createElement("img",{className:"popup__photo",src:"".concat(t.link),alt:"".concat(t.name)}),o.a.createElement("p",{className:"popup__photo-caption"},t.name),o.a.createElement("button",{className:"popup__close-button popup__close-button_photo",type:"button","aria-label":"Close",onClick:a})))};var y=function(e){var t=e.onLogin,a=o.a.useState(""),n=Object(s.a)(a,2),c=n[0],r=n[1],i=o.a.useState(""),l=Object(s.a)(i,2),u=l[0],m=l[1];return o.a.createElement("div",{className:"authform"},o.a.createElement("h3",{className:"authform__title"},"\u0412\u0445\u043e\u0434"),o.a.createElement("form",{className:"authform__form",name:"authform-login",onSubmit:function(e){e.preventDefault(),t(c,u)}},o.a.createElement("input",{className:"authform__input",type:"email",name:"email",value:c,placeholder:"Email",required:!0,minLength:"2",maxLength:"30",onChange:function(e){r(e.target.value)}}),o.a.createElement("input",{className:"authform__input",type:"password",name:"password",value:u,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,minLength:"2",maxLength:"12",onChange:function(e){m(e.target.value)}}),o.a.createElement("button",{className:"authform__button",type:"submit"},"\u0412\u043e\u0439\u0442\u0438")))};var k=function(e){var t=e.onRegister,a=o.a.useState(""),n=Object(s.a)(a,2),c=n[0],r=n[1],l=o.a.useState(""),u=Object(s.a)(l,2),m=u[0],p=u[1];return o.a.createElement("div",{className:"authform"},o.a.createElement("h3",{className:"authform__title"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.a.createElement("form",{className:"authform__form",name:"authform-register",onSubmit:function(e){e.preventDefault(),t(c,m)}},o.a.createElement("input",{className:"authform__input",type:"email",name:"email",value:c,placeholder:"Email",required:!0,minLength:"2",maxLength:"30",onChange:function(e){r(e.target.value)}}),o.a.createElement("input",{className:"authform__input",type:"password",name:"password",value:m,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,minLength:"2",maxLength:"12",onChange:function(e){p(e.target.value)}}),o.a.createElement("button",{className:"authform__button",type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),o.a.createElement("div",{className:"authform__info"},o.a.createElement("p",{className:"authform__text"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?\xa0"),o.a.createElement(i.b,{to:"/sign-in",className:"authform__link"},"\u0412\u043e\u0439\u0442\u0438"))))},S=a(23),x=a.n(S),w=a(24),U=a.n(w);var L=function(e){var t=e.onClose,a=e.result,n=a.isOpen,c=a.successful;return o.a.createElement("section",{className:"popup ".concat(n?"popup_opened":"")},o.a.createElement("div",{className:"popup__container popup__container_info"},o.a.createElement("img",{className:"popup__info-image",src:c?x.a:U.a,alt:"\u0417\u043d\u0430\u0447\u043e\u043a \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430"}),o.a.createElement("h2",{className:"popup__title popup__title_info"},c?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),o.a.createElement("button",{className:"popup__close-button",type:"button","aria-label":"Close",onClick:t})))},V=a(28),F=["component"];var P=function(e){var t=e.component,a=Object(V.a)(e,F);return o.a.createElement(m.b,null,(function(){return a.loggedIn?o.a.createElement(t,a):o.a.createElement(m.a,{to:"/sign-in"})}))},I=a(25),T=a(26),R=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(I.a)(this,e),this._makeRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))},this._baseUrl=a,this._headers=n}return Object(T.a)(e,[{key:"getProfileInfo",value:function(){return this._makeRequest("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"getInitialCards",value:function(){return this._makeRequest("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"editProfile",value:function(e){return this._makeRequest("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})})}},{key:"editAvatar",value:function(e){return this._makeRequest("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}},{key:"addCard",value:function(e){return this._makeRequest("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})})}},{key:"deleteCard",value:function(e){return this._makeRequest("".concat(this._baseUrl,"/cards/").concat(e._id),{method:"DELETE",headers:this._headers})}},{key:"handleLikeCardStatus",value:function(e,t){return this._makeRequest("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:t?"PUT":"DELETE",headers:this._headers})}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-39",headers:{authorization:"d47f770a-d44b-46ab-a4b8-15da85bd32ea","Content-Type":"application/json"}}),q="https://auth.nomoreparties.co";function K(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}var X=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),i=Object(s.a)(r,2),p=i[0],d=i[1],b=Object(n.useState)(!1),E=Object(s.a)(b,2),_=E[0],N=E[1],S=Object(n.useState)({isOpen:!1,successful:!1}),x=Object(s.a)(S,2),w=x[0],U=x[1],V=Object(n.useState)({}),F=Object(s.a)(V,2),I=F[0],T=F[1],X=Object(n.useState)({}),z=Object(s.a)(X,2),W=z[0],D=z[1],H=Object(n.useState)([]),Z=Object(s.a)(H,2),J=Z[0],B=Z[1],Y=Object(n.useState)(null),M=Object(s.a)(Y,2),Q=M[0],G=M[1],$=Object(n.useState)(""),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=Object(m.g)();function oe(){G(!0)}function ce(e){U(Object(u.a)(Object(u.a)({},w),{},{isOpen:!0,successful:e}))}function re(){c(!1),N(!1),d(!1),T({}),U(!1)}return Object(n.useEffect)((function(){Promise.all([R.getProfileInfo(),R.getInitialCards()]).then((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];D(a),B(n)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){var e=localStorage.getItem("jwt");e&&function(e){return fetch("".concat(q,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return K(e)}))}(e).then((function(e){e&&(ae(e.data.email),oe(),ne.push("/"))}))}),[ne]),o.a.createElement("div",{className:"page"},o.a.createElement(h.Provider,{value:W},o.a.createElement(f,{email:te,onSignOut:function(){G(!1),ae(""),localStorage.removeItem("jwt"),ne.push("/sign-in")}}),o.a.createElement(m.d,null,o.a.createElement(P,{exact:!0,path:"/",loggedIn:Q,component:g,onEditProfile:function(){c(!0)},onAddPlace:function(){d(!0)},onEditAvatar:function(){N(!0)},onCardClick:function(e){T(e)},cards:J,onCardLike:function(e){var t=e.likes.some((function(e){return e._id===W._id}));R.handleLikeCardStatus(e._id,!t).then((function(t){B(J.map((function(a){return a._id===e._id?t:a})))})).catch((function(e){console.log(e)}))},onCardDelete:function(e){R.deleteCard(e).then((function(){B((function(t){return t.filter((function(t){return t._id!==e._id}))}))})).catch((function(e){console.log(e)}))}}),o.a.createElement(m.b,{path:"/sign-up"},o.a.createElement(k,{onRegister:function(e,t){(function(e,t){return fetch("".concat(q,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return K(e)}))})(e,t).then((function(e){e&&(ce(!0),ne.push("/sign-in"))})).catch((function(e){console.log(e),ce(!1)}))}})),o.a.createElement(m.b,{path:"/sign-in"},o.a.createElement(y,{onLogin:function(e,t){(function(e,t){return fetch("".concat(q,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return K(e)}))})(e,t).then((function(t){t.token&&(ae(e),oe(),localStorage.setItem("jwt",t.token),ne.push("/"))})).catch((function(e){console.log(e)}))}})),o.a.createElement(m.b,null,Q?o.a.createElement(m.a,{to:"/"}):o.a.createElement(m.a,{to:"/sign-in"}))),o.a.createElement(v,null),o.a.createElement(C,{isOpen:a,onClose:re,onUpdateUser:function(e){R.editProfile(e).then((function(e){D(Object(u.a)(Object(u.a)({},W),{},{name:e.name,about:e.about})),re()})).catch((function(e){console.log(e)}))}}),o.a.createElement(A,{isOpen:_,onClose:re,onUpdateAvatar:function(e){var t=e.avatar;R.editAvatar(t).then((function(e){D(Object(u.a)(Object(u.a)({},W),{},{avatar:e.avatar})),re()})).catch((function(e){console.log(e)}))}}),o.a.createElement(j,{isOpen:p,onClose:re,onAddPlace:function(e){R.addCard(e).then((function(e){B([e].concat(Object(l.a)(J))),re()})).catch((function(e){console.log(e)}))}}),o.a.createElement(O,{card:I,onClose:re}),o.a.createElement(L,{result:w,onClose:re})))};r.a.createRoot(document.getElementById("root")).render(o.a.createElement(i.a,null,o.a.createElement(o.a.StrictMode,null,o.a.createElement(X,null))))}},[[29,1,2]]]);
//# sourceMappingURL=main.aec94083.chunk.js.map